# The component of the hostname.  Must be suitable for the first parameter of
# urlparse.urljoin
HOST = 'http://localhost:8080/'

# Our enabled components
VIEWS = [
'firmant.plugins.views.jinja2viewprovider.Jinja2FrontendViewProvider',
                 'firmant.plugins.views.atom.AtomFeedViewProvider',
                 'firmant.plugins.views.txt.TxtFrontendViewProvider',
                 'firmant.plugins.views.comments.CommentSubmissionHandler',
                 'firmant.views.CatchallProvider']
ENTRY_PERMALINK = 'firmant.plugins.views.jinja2viewprovider.Jinja2EntryPermalinkProvider'
FEED_PERMALINK  = 'firmant.plugins.views.atom.AtomFeedPermalinkProvider'

TEXT_FILTERS = ['firmant.plugins.filters.markdownfilter.MarkdownFilter']

JINJA2_GLOBALS = ['firmant.plugins.views.jinja2globalplugins.RecentEntriesPostedGlobalProvider',
                  'firmant.plugins.views.jinja2globalplugins.MonthsPostedGlobalProvider',
                  'firmant.plugins.views.jinja2globalplugins.CSRFTokenGlobalProvider',
                  'firmant.plugins.views.comments.CommentDataGlobalProvider']

# Markdown options
MARKDOWN_XHTML_ENABLED = True
# Valid options: 'replace', 'remove', 'escape'
MARKDOWN_XHTML_SAFE_MODE = 'escape'

RESTRUCTUREDTEXT_XHTML_ENABLED = True

# Backend options
ATOM_PROVIDER = 'firmant.plugins.datasource.flatfile.atom'
ATOM_ENTRY_PROVIDER = ATOM_PROVIDER + '.AtomFlatfileEntryProvider'
ATOM_AUTHOR_PROVIDER = ATOM_PROVIDER + '.AtomFlatfileAuthorProvider'
ATOM_CATEGORY_PROVIDER = ATOM_PROVIDER + '.AtomFlatfileCategoryProvider'
ATOM_FEED_PROVIDER = ATOM_PROVIDER + '.AtomFlatfileFeedProvider'

# Flatfile options
FLATFILE_BASE = 'checkout/'

VIEW_TXT_FRONTEND_PREFIX = 'txt'
VIEW_JINJA2_FRONTEND_PREFIX = 'jinja2'
VIEW_ATOM_FEED_PREFIX = 'atom'

JINJA2_TEMPLATE_DIR = 'templates/'
JINJA2_ENTRIES_PER_PAGE = 1

MEDIA_FS_PATH = 'templates/static'
MEDIA_URL_PATH = '/static/'

CSRF_SERVER_SECRET = 'A SECRET KNOWN TO THE SERVER'
import tempfile
CSRF_TOKENS_DIR = tempfile.gettempdir()
CSRF_TOKEN_TTL = 3600
CSRF_TOKEN_PROVIDER = 'firmant.plugins.csrf.flatfile.FlatfileCSRFTokenProvider'

COMMENT_SUBMISSION_PREFIX = 'comments'
COMMENT_SUBMISSION_ENABLED = True

COMMENT_STATUS_DEFAULT = 'unpublished'

COMMENT_PROVIDER = 'firmant.plugins.datasource.flatfile.comments.FlatfileCommentProvider'
COMMENT_VALIDATORS = ['firmant.datasource.comments.CommentEmailValidator',
                      'firmant.datasource.comments.CommentURLValidator',
                      'firmant.datasource.comments.CommentNameValidator',
                      'firmant.datasource.comments.CommentContentValidator']
